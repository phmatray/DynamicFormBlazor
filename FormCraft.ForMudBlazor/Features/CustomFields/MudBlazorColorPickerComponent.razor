@namespace FormCraft.ForMudBlazor
@typeparam TModel
@inherits FieldComponentBase<TModel, string>

<MudColorPicker
    Label="@Label"
    Text="@(CurrentValue ?? "#FFFFFF")"
    TextChanged="@HandleColorChanged"
    Placeholder="@Placeholder"
    HelperText="@HelpText"
    ReadOnly="@IsReadOnly"
    Disabled="@IsDisabled"
    Variant="Variant.Outlined"
    Margin="Margin.Dense"
    ColorPickerMode="ColorPickerMode.RGB"
    PickerVariant="PickerVariant.Dialog"
    AnchorOrigin="Origin.BottomCenter"/>

@code {
    private void HandleColorChanged(string? color)
    {
        CurrentValue = color ?? "#FFFFFF";
    }
}