@page "/field-groups"
@inject FormCodeGeneratorService CodeGenerator

<PageTitle>Field Groups Layout</PageTitle>

<MudContainer MaxWidth="MaxWidth.Large" Class="py-6">
    <MudText Typo="Typo.h3" GutterBottom="true" Class="mb-2">
        <MudIcon Icon="@Icons.Material.Filled.GridView" Style="vertical-align: middle; font-size: 3rem" />
        Field Groups Layout
    </MudText>
    <MudText Typo="Typo.body1" GutterBottom="true" Class="mb-6">
        This demonstrates organizing form fields into rows with different column layouts.
    </MudText>
    
    <MudPaper Elevation="2" Class="pa-0">
        <MudTabs Elevation="0" Rounded="false" PanelClass="pa-6">
            <MudTabPanel Text="Form Demo" Icon="@Icons.Material.Filled.ViewQuilt">
                <MudGrid>
                    <MudItem xs="12" lg="8">
                        <MudPaper Elevation="1" Class="pa-6">
                            <MudText Typo="Typo.h5" GutterBottom="true" Class="mb-4 d-flex align-items-center">
                                <MudIcon Icon="@Icons.Material.Filled.Badge" Class="me-2" />
                                Employee Information Form
                            </MudText>
                            
                            @if (_isSubmitted)
                            {
                                <FormSuccessDisplay DataDisplayItems="@GetDataDisplayItems()"
                                                   OnReset="@ResetForm" />
                            }
                            else
                            {
                                <FormCraftComponent TModel="EmployeeModel" 
                                                    Model="@_model" 
                                                    Configuration="@_formConfiguration"
                                                    OnValidSubmit="@HandleValidSubmit"
                                                    IsSubmitting="@_isSubmitting"
                                                    SubmitButtonText="Save Employee"
                                                    SubmittingText="Saving..." />
                            }
                        </MudPaper>
                    </MudItem>
                    
                    <MudItem xs="12" lg="4">
                        <FormGuidelines Guidelines="@_guidelines" Title="Layout Features" />
                        
                        <MudCard Elevation="2" Class="mt-4">
                            <MudCardContent>
                                <MudText Typo="Typo.h6" GutterBottom="true" Class="d-flex align-items-center">
                                    <MudIcon Icon="@Icons.Material.Filled.Info" Class="me-2 text-info" />
                                    Layout Information
                                </MudText>
                                <MudList T="string" Dense="true">
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.TableRows" IconColor="Color.Primary">
                                        <MudText Typo="Typo.body2">Row 1: 2 fields (50% each)</MudText>
                                    </MudListItem>
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.ViewColumn" IconColor="Color.Secondary">
                                        <MudText Typo="Typo.body2">Row 2: 3 fields (33.3% each)</MudText>
                                    </MudListItem>
                                    <MudListItem T="string" Icon="@Icons.Material.Filled.ViewStream" IconColor="Color.Tertiary">
                                        <MudText Typo="Typo.body2">Row 3: 1 field (100% width)</MudText>
                                    </MudListItem>
                                </MudList>
                            </MudCardContent>
                        </MudCard>
                    </MudItem>
                </MudGrid>
            </MudTabPanel>
            
            <MudTabPanel Text="Code Example" Icon="@Icons.Material.Filled.Code">
                <CodeExample Title="Field Groups Configuration" Language="csharp" Code="@GetGeneratedCode()" />
            </MudTabPanel>
            
            <MudTabPanel Text="Guidelines" Icon="@Icons.Material.Filled.Lightbulb">
                <FormGuidelines Title="Field Groups Guidelines">
                    <MudSimpleTable>
                        <thead>
                            <tr>
                                <th>Feature</th>
                                <th>Usage</th>
                                <th>Example</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Field Groups</td>
                                <td>Organize fields into logical sections</td>
                                <td><code>.AddFieldGroup(group => group...)</code></td>
                            </tr>
                            <tr>
                                <td>Group Name</td>
                                <td>Provide a title for each section</td>
                                <td><code>.WithGroupName("Personal Information")</code></td>
                            </tr>
                            <tr>
                                <td>Column Layout</td>
                                <td>Set number of columns per row</td>
                                <td><code>.WithColumns(2)</code></td>
                            </tr>
                            <tr>
                                <td>Card Display</td>
                                <td>Show group in a card container</td>
                                <td><code>.ShowInCard()</code></td>
                            </tr>
                            <tr>
                                <td>Responsive Design</td>
                                <td>Columns automatically stack on mobile</td>
                                <td>Built-in responsive behavior</td>
                            </tr>
                        </tbody>
                    </MudSimpleTable>
                </FormGuidelines>
            </MudTabPanel>
        </MudTabs>
    </MudPaper>
</MudContainer>